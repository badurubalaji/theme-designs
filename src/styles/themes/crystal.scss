// ============================================================================
// CRYSTAL THEME - "The Prism" (Radical Redesign)
// ============================================================================
// Usage: Import this file directly in your angular.json or styles.scss
// @import 'themes/crystal';
// ============================================================================

@use '@angular/material' as mat;
@use 'palettes' as palettes;

// =============================================================================
// Crystal Custom Variables
// =============================================================================

:root {
    --theme-name: 'crystal';

    // PRISM COLORS - Visible spectrum
    --prism-1: rgba(255, 0, 0, 0.1);
    --prism-2: rgba(0, 255, 0, 0.1);
    --prism-3: rgba(0, 0, 255, 0.1);

    // GRADIENTS - High visibility
    --crystal-gradient: linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(230, 240, 255, 0.8));
    --crystal-border: 1px solid rgba(255, 255, 255, 0.8);
    --crystal-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    --crystal-shine: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.8), transparent);
}

// =============================================================================
// Theme Configuration
// =============================================================================

html {
    @include mat.theme((color: (theme-type: light,
                primary: palettes.$indigo-palette,
                tertiary: palettes.$rose-palette,
            ),
            typography: Roboto,
            density: 0,
        ));

    // Crystal surfaces
    --mat-sys-surface: rgba(255, 255, 255, 0.85);
}

// =============================================================================
// GLOBAL OVERRIDES
// =============================================================================

body {
    // Background with geometric shapes (simulated via gradient)
    background:
        radial-gradient(circle at 0% 0%, rgba(200, 200, 255, 0.5), transparent 50%),
        radial-gradient(circle at 100% 100%, rgba(255, 200, 200, 0.5), transparent 50%),
        #f0f5ff;
    color: #2c3e50;
}

// =============================================================================
// COMPONENT OVERRIDES
// =============================================================================

// CARDS - Faceted Gem
.mat-mdc-card {
    background: var(--crystal-gradient) !important;
    border: 2px solid #fff !important; // Thick white border
    box-shadow:
        0 0 0 1px rgba(0, 0, 0, 0.05), // Outer ring
        0 10px 40px rgba(31, 38, 135, 0.15) !important; // Deep shadow
    border-radius: 20px 0 20px 0 !important; // Asymmetric cut
    backdrop-filter: blur(10px);
    position: relative;
    overflow: hidden;

    &::before {
        // Prismatic sheen
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: conic-gradient(from 0deg, transparent, rgba(255, 255, 255, 0.4), transparent);
        transform: rotate(45deg);
        pointer-events: none;
    }
}

// BUTTONS - Glass Lozenge
.mat-mdc-raised-button.mat-primary {
    background: linear-gradient(to right, #6a11cb 0%, #2575fc 100%) !important;
    border-radius: 30px !important;
    color: #fff !important;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2) !important;
    border: 1px solid rgba(255, 255, 255, 0.5) !important;
}

.mat-mdc-outlined-button {
    background: rgba(255, 255, 255, 0.6) !important;
    border: 1px solid #fff !important;
    border-radius: 30px !important;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);

    &:hover {
        background: #fff !important;
        transform: translateY(-2px);
    }
}

// SIDENAV
.mat-sidenav {
    background: rgba(255, 255, 255, 0.7);
    backdrop-filter: blur(20px);
    border-right: 1px solid #fff;
}

// DIALOG
.mat-mdc-dialog-container {
    border-radius: 30px 0 30px 0 !important;
    border: 3px solid #fff !important;
    background: rgba(255, 255, 255, 0.95) !important;
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.2) !important;
}

// FORM FIELDS
.mat-mdc-form-field {
    .mdc-text-field {
        background: #fff !important;
        border-radius: 12px 12px 0 0 !important;
        border-bottom: 2px solid transparent;
        transition: all 0.3s;
    }

    &.mat-focused .mdc-text-field {
        border-bottom-color: #2575fc;
        background: #f8f9ff !important;
    }

    .mdc-notched-outline {
        border: none !important;
    }
}

// TOOLBAR
.mat-toolbar {
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(10px);
    border-bottom: 1px solid #fff;
}

// UTILS
.surface {
    background: rgba(255, 255, 255, 0.8);
}

.text-primary {
    color: #2575fc;
}