// ============================================================================
// MINIMAL DESIGN THEME - Maximum Whitespace Prebuilt Template
// ============================================================================
// Usage: Import this file directly in your angular.json or styles.scss
// @import 'themes/minimal';
// or link the compiled CSS in your index.html
// ============================================================================

@use '@angular/material' as mat;
@use 'palettes' as palettes;

// =============================================================================
// Minimal Design Custom Variables
// =============================================================================

:root {
    // Theme identification
    --theme-name: 'minimal';
    --theme-style: 'maximum-whitespace';

    // Spacing configuration (generous whitespace)
    --minimal-spacing-xs: 8px;
    --minimal-spacing-sm: 16px;
    --minimal-spacing-md: 24px;
    --minimal-spacing-lg: 40px;
    --minimal-spacing-xl: 64px;

    // Subtle borders
    --minimal-border-color: rgba(0, 0, 0, 0.06);
    --minimal-border-width: 1px;

    // Muted color system
    --minimal-text-primary: rgba(0, 0, 0, 0.87);
    --minimal-text-secondary: rgba(0, 0, 0, 0.54);
    --minimal-text-disabled: rgba(0, 0, 0, 0.38);
    --minimal-accent-muted: 0.7;

    // Typography emphasis
    --minimal-font-weight-normal: 400;
    --minimal-font-weight-medium: 500;
    --minimal-font-weight-bold: 600;

    // Soft corners
    --mat-shape-corner-xs: 2px;
    --mat-shape-corner-sm: 4px;
    --mat-shape-corner-md: 8px;
    --mat-shape-corner-lg: 12px;
    --mat-shape-corner-xl: 16px;
    --mat-shape-corner-full: 9999px;
}

// =============================================================================
// Theme Configuration
// =============================================================================

html {
    @include mat.theme((color: (theme-type: light,
                primary: palettes.$indigo-palette,
                tertiary: palettes.$teal-palette,
            ),
            typography: (plain-family: (Inter, Roboto, sans-serif),
                brand-family: (Inter, Roboto, sans-serif),
                bold-weight: 600,
                medium-weight: 500,
                regular-weight: 400,
            ),
            density: -1,
        ));

    // Minimal shadows - very subtle
    --mat-sys-elevation-1: 0 1px 2px rgba(0, 0, 0, 0.04);
    --mat-sys-elevation-2: 0 2px 4px rgba(0, 0, 0, 0.05);
    --mat-sys-elevation-3: 0 4px 8px rgba(0, 0, 0, 0.06);
    --mat-sys-elevation-4: 0 8px 16px rgba(0, 0, 0, 0.07);
    --mat-sys-elevation-5: 0 12px 24px rgba(0, 0, 0, 0.08);

    // Very clean, light surfaces
    --mat-sys-surface: #ffffff;
    --mat-sys-surface-container: #fafafa;
    --mat-sys-surface-container-low: #fcfcfc;
    --mat-sys-surface-container-high: #f5f5f5;
    --mat-sys-surface-variant: #f8f8f8;

    // Muted primary colors
    --mat-sys-primary: rgba(103, 80, 164, var(--minimal-accent-muted));
}

// Dark theme variant
html.dark-theme,
html[data-theme="dark"] {
    @include mat.theme((color: (theme-type: dark,
                primary: palettes.$indigo-palette,
                tertiary: palettes.$teal-palette,
            ),
            typography: (plain-family: (Inter, Roboto, sans-serif),
                brand-family: (Inter, Roboto, sans-serif),
            ),
            density: -1,
        ));

    --minimal-border-color: rgba(255, 255, 255, 0.08);
    --minimal-text-primary: rgba(255, 255, 255, 0.87);
    --minimal-text-secondary: rgba(255, 255, 255, 0.60);
    --minimal-text-disabled: rgba(255, 255, 255, 0.38);

    --mat-sys-surface: #121212;
    --mat-sys-surface-container: #1e1e1e;
    --mat-sys-surface-container-low: #171717;
    --mat-sys-surface-container-high: #252525;
}

// =============================================================================
// Base Styles
// =============================================================================

body {
    background-color: var(--mat-sys-surface);
    color: var(--minimal-text-primary);
    font-family: Inter, Roboto, sans-serif;
    font-weight: var(--minimal-font-weight-normal);
    letter-spacing: -0.01em;
    margin: 0;
    min-height: 100vh;
    padding: var(--minimal-spacing-lg);
}

// =============================================================================
// Typography - Clean & Spacious
// =============================================================================

h1,
h2,
h3,
h4,
h5,
h6 {
    font-weight: var(--minimal-font-weight-medium);
    letter-spacing: -0.02em;
    margin: 0 0 var(--minimal-spacing-md);
    color: var(--minimal-text-primary);
}

h1 {
    font-size: 2.5rem;
    line-height: 1.2;
    margin-bottom: var(--minimal-spacing-lg);
}

h2 {
    font-size: 2rem;
    line-height: 1.25;
}

h3 {
    font-size: 1.5rem;
    line-height: 1.3;
}

h4 {
    font-size: 1.25rem;
    line-height: 1.4;
}

p {
    margin: 0 0 var(--minimal-spacing-md);
    line-height: 1.7;
    color: var(--minimal-text-secondary);
}

// =============================================================================
// Minimal Component Overrides
// =============================================================================

// Cards - very subtle, content-focused
.mat-mdc-card {
    background-color: var(--mat-sys-surface) !important;
    border: var(--minimal-border-width) solid var(--minimal-border-color);
    border-radius: var(--mat-shape-corner-lg);
    box-shadow: var(--mat-sys-elevation-1) !important;
    padding: var(--minimal-spacing-lg);
    transition: box-shadow 0.3s ease, border-color 0.3s ease;

    &:hover {
        box-shadow: var(--mat-sys-elevation-2) !important;
        border-color: rgba(0, 0, 0, 0.1);
    }

    .mat-mdc-card-content {
        padding: 0;
    }

    .mat-mdc-card-title {
        font-weight: var(--minimal-font-weight-medium);
        margin-bottom: var(--minimal-spacing-sm);
    }
}

// Buttons - understated but clickable
.mat-mdc-button {
    font-weight: var(--minimal-font-weight-medium);
    letter-spacing: 0;
    padding: var(--minimal-spacing-xs) var(--minimal-spacing-md);
    border-radius: var(--mat-shape-corner-md);
    transition: all 0.2s ease;

    &:hover {
        background-color: rgba(0, 0, 0, 0.04);
    }
}

.mat-mdc-raised-button,
.mat-mdc-flat-button {
    font-weight: var(--minimal-font-weight-medium);
    letter-spacing: 0;
    padding: var(--minimal-spacing-xs) var(--minimal-spacing-md);
    border-radius: var(--mat-shape-corner-md);
    box-shadow: none !important;

    &:hover {
        opacity: 0.9;
    }
}

.mat-mdc-outlined-button {
    border: var(--minimal-border-width) solid var(--minimal-border-color) !important;
    font-weight: var(--minimal-font-weight-medium);
    border-radius: var(--mat-shape-corner-md);

    &:hover {
        border-color: var(--mat-sys-primary) !important;
        background-color: rgba(103, 80, 164, 0.04) !important;
    }
}

// Subtle icon buttons
.mat-mdc-icon-button {
    opacity: 0.7;
    transition: opacity 0.2s ease;

    &:hover {
        opacity: 1;
        background-color: transparent;
    }
}

// FAB - more subdued
.mat-mdc-fab,
.mat-mdc-mini-fab {
    box-shadow: var(--mat-sys-elevation-2) !important;
    border-radius: var(--mat-shape-corner-lg);

    &:hover {
        box-shadow: var(--mat-sys-elevation-3) !important;
    }
}

// Form fields - clean lines
.mat-mdc-form-field {
    .mdc-text-field {
        background: var(--mat-sys-surface-container) !important;
        border: var(--minimal-border-width) solid var(--minimal-border-color);
        border-radius: var(--mat-shape-corner-sm) !important;
        padding: var(--minimal-spacing-xs) var(--minimal-spacing-sm);
        transition: border-color 0.2s ease;
    }

    // Keep label visible, just hide outline border
    .mdc-notched-outline,
    .mdc-notched-outline__leading,
    .mdc-notched-outline__notch,
    .mdc-notched-outline__trailing {
        border-color: transparent !important;
    }

    .mat-mdc-floating-label {
        color: var(--minimal-text-secondary) !important;
        font-weight: var(--minimal-font-weight-medium);
    }

    &.mat-focused {
        .mdc-text-field {
            border-color: var(--mat-sys-primary);
        }

        .mat-mdc-floating-label {
            color: var(--mat-sys-primary) !important;
        }
    }
}

// Chips - pill-shaped, subtle
.mat-mdc-chip {
    background-color: var(--mat-sys-surface-container-high) !important;
    border: var(--minimal-border-width) solid var(--minimal-border-color);
    border-radius: var(--mat-shape-corner-full);
    font-size: 0.875rem;
    height: auto;
    padding: var(--minimal-spacing-xs) var(--minimal-spacing-sm);

    &.mat-mdc-chip-selected {
        background-color: var(--mat-sys-primary-container) !important;
        border-color: transparent;
    }
}

// Dialog - generous whitespace
.mat-mdc-dialog-container {
    background-color: var(--mat-sys-surface) !important;
    border-radius: var(--mat-shape-corner-xl) !important;
    box-shadow: var(--mat-sys-elevation-5) !important;
    padding: var(--minimal-spacing-xl);

    .mat-mdc-dialog-title {
        font-weight: var(--minimal-font-weight-medium);
        margin-bottom: var(--minimal-spacing-md);
    }

    .mat-mdc-dialog-content {
        padding: 0;
        color: var(--minimal-text-secondary);
    }

    .mat-mdc-dialog-actions {
        margin-top: var(--minimal-spacing-lg);
        padding: 0;
    }
}

// Menu - clean & simple
.mat-mdc-menu-panel {
    background-color: var(--mat-sys-surface) !important;
    border: var(--minimal-border-width) solid var(--minimal-border-color);
    border-radius: var(--mat-shape-corner-md);
    box-shadow: var(--mat-sys-elevation-3) !important;
    min-width: 200px;

    .mat-mdc-menu-item {
        padding: var(--minimal-spacing-sm) var(--minimal-spacing-md);
        font-size: 0.9375rem;

        &:hover {
            background-color: var(--mat-sys-surface-container);
        }
    }
}

// Tabs - understated
.mat-mdc-tab-group {
    .mat-mdc-tab-header {
        border-bottom: var(--minimal-border-width) solid var(--minimal-border-color);
    }

    .mat-mdc-tab {
        font-weight: var(--minimal-font-weight-medium);
        opacity: 0.7;

        &.mdc-tab--active {
            opacity: 1;
        }
    }
}

// Expansion panels - spacious
.mat-expansion-panel {
    background-color: var(--mat-sys-surface) !important;
    border: var(--minimal-border-width) solid var(--minimal-border-color);
    box-shadow: none !important;
    margin-bottom: var(--minimal-spacing-xs);

    .mat-expansion-panel-header {
        padding: var(--minimal-spacing-md) var(--minimal-spacing-lg);
        font-weight: var(--minimal-font-weight-medium);
    }

    .mat-expansion-panel-body {
        padding: var(--minimal-spacing-md) var(--minimal-spacing-lg) var(--minimal-spacing-lg);
    }
}

// List - clean separators
.mat-mdc-list {
    .mat-mdc-list-item {
        border-bottom: var(--minimal-border-width) solid var(--minimal-border-color);
        padding: var(--minimal-spacing-md) 0;

        &:last-child {
            border-bottom: none;
        }
    }
}

// Table - minimal grid
.mat-mdc-table {
    .mat-mdc-header-row {
        background-color: transparent;
        border-bottom: var(--minimal-border-width) solid var(--minimal-border-color);

        .mat-mdc-header-cell {
            font-weight: var(--minimal-font-weight-medium);
            color: var(--minimal-text-secondary);
            padding: var(--minimal-spacing-md);
        }
    }

    .mat-mdc-row {
        border-bottom: var(--minimal-border-width) solid var(--minimal-border-color);

        .mat-mdc-cell {
            padding: var(--minimal-spacing-md);
        }

        &:hover {
            background-color: var(--mat-sys-surface-container);
        }
    }
}

// Autocomplete
.mat-mdc-autocomplete-panel {
    background-color: var(--mat-sys-surface) !important;
    border: var(--minimal-border-width) solid var(--minimal-border-color);
    border-radius: var(--mat-shape-corner-md);
    box-shadow: var(--mat-sys-elevation-3) !important;

    .mat-mdc-option {
        padding: var(--minimal-spacing-sm) var(--minimal-spacing-md);
        font-size: 0.9375rem;

        &:hover {
            background-color: var(--mat-sys-surface-container);
        }

        &.mdc-list-item--selected {
            background-color: var(--mat-sys-primary-container);
        }

        &.mat-mdc-option-active {
            background-color: var(--mat-sys-surface-container-high);
        }
    }

    .mat-mdc-optgroup-label {
        font-weight: var(--minimal-font-weight-medium);
        color: var(--minimal-text-secondary);
        padding: var(--minimal-spacing-xs) var(--minimal-spacing-md);
    }
}

// Snackbar
.mat-mdc-snack-bar-container {
    background-color: var(--mat-sys-inverse-surface) !important;
    border-radius: var(--mat-shape-corner-sm);
    box-shadow: var(--mat-sys-elevation-3) !important;
}

// Tooltip
.mat-mdc-tooltip .mdc-tooltip__surface {
    background-color: var(--mat-sys-inverse-surface);
    border-radius: var(--mat-shape-corner-xs);
}

// Sidenav
.mat-sidenav {
    background-color: var(--mat-sys-surface);
    border-right: var(--minimal-border-width) solid var(--minimal-border-color);
}

// Toolbar
.mat-toolbar {
    background-color: var(--mat-sys-surface);
    border-bottom: var(--minimal-border-width) solid var(--minimal-border-color);
    box-shadow: none;
}

// Paginator
.mat-mdc-paginator {
    background-color: var(--mat-sys-surface);
    border: var(--minimal-border-width) solid var(--minimal-border-color);
    border-radius: var(--mat-shape-corner-sm);
}

// Stepper
.mat-stepper-horizontal,
.mat-stepper-vertical {
    background-color: var(--mat-sys-surface);
}

// Progress Bar & Spinner
.mat-mdc-progress-bar {
    border-radius: var(--mat-shape-corner-full);
}

// Slider
.mat-mdc-slider {
    .mdc-slider__track {
        border-radius: var(--mat-shape-corner-full);
    }
}

// =============================================================================
// Utility Classes
// =============================================================================

.minimal-muted {
    opacity: var(--minimal-accent-muted);
}

.minimal-spacing-sm {
    padding: var(--minimal-spacing-sm);
}

.minimal-spacing-md {
    padding: var(--minimal-spacing-md);
}

.minimal-spacing-lg {
    padding: var(--minimal-spacing-lg);
}

.minimal-spacing-xl {
    padding: var(--minimal-spacing-xl);
}

.minimal-gap-sm {
    gap: var(--minimal-spacing-sm);
}

.minimal-gap-md {
    gap: var(--minimal-spacing-md);
}

.minimal-gap-lg {
    gap: var(--minimal-spacing-lg);
}

.minimal-text-primary {
    color: var(--minimal-text-primary);
}

.minimal-text-secondary {
    color: var(--minimal-text-secondary);
}

.minimal-text-disabled {
    color: var(--minimal-text-disabled);
}

.minimal-weight-normal {
    font-weight: var(--minimal-font-weight-normal);
}

.minimal-weight-medium {
    font-weight: var(--minimal-font-weight-medium);
}

.minimal-weight-bold {
    font-weight: var(--minimal-font-weight-bold);
}

// Surface utilities
.surface {
    background-color: var(--mat-sys-surface);
}

.surface-container {
    background-color: var(--mat-sys-surface-container);
}

.text-primary {
    color: var(--mat-sys-primary);
}

.rounded-xs {
    border-radius: var(--mat-shape-corner-xs);
}

.rounded-sm {
    border-radius: var(--mat-shape-corner-sm);
}

.rounded-md {
    border-radius: var(--mat-shape-corner-md);
}

.rounded-lg {
    border-radius: var(--mat-shape-corner-lg);
}

.rounded-xl {
    border-radius: var(--mat-shape-corner-xl);
}

.rounded-full {
    border-radius: var(--mat-shape-corner-full);
}